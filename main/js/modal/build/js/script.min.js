"use strict";function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var defaultOptions={mode:"alert",modeClassList:{alert:"modal_alert",promt:"modal_promt",confirm:"modal_confirm"},classList:{open:"modal_active"},isShowNow:!1};function addHandler(t,e,o){o.addEventListener(t,e)}function closeModal(t){console.log(t.target,t.currentTarget),(t.target===t.currentTarget||t.target.classList.contains("modal__close")||"alert"===this.options.mode&&t.target.classList.contains("modal__btn-ok")||t.target.classList.contains("modal__btn-cansel"))&&this.hidden()}function BeetRootModal(t){this.options=_objectSpread(_objectSpread({},defaultOptions),t),this.inite=function(){this.beforeOpen=new CustomEvent("before-open",{detail:this});var t=this.options;this.title=t.wrapper.querySelector(".modal__title"),this.text=t.wrapper.querySelector(".modal__text"),this.input=t.wrapper.querySelector(".modal__promt"),this.ok=t.wrapper.querySelector(".modal__btn-ok"),this.cansel=t.wrapper.querySelector(".modal__btn-cansel"),this.close=t.wrapper.querySelector(".modal__close"),this.setClassMode(),this.setTitle(t.title),this.setText(t.text),addHandler("click",closeModal.bind(this),this.options.wrapper),t.isShowNow&&"alert"===this.getMode()&&(console.log(t.wrapper.dispatchEvent(this.beforeOpen)),t.wrapper.dispatchEvent(this.beforeOpen)||this.show())},this.setTitle=function(t){this.title.textContent=t},this.promtInputClean=function(){this.input.value=""},this.setText=function(t){this.text.textContent=t},this.setClassMode=function(){console.log(this.options.modeClassList[this.options.mode]),this.options.wrapper.classList.add(this.options.modeClassList[this.options.mode])},this.show=function(){this.options.wrapper.classList.add(this.options.classList.open)},this.hidden=function(){this.options.wrapper.classList.remove(this.options.classList.open)},this.getMode=function(){return this.options.mode},this.promt=function(t){this.show();var e=this;return new Promise(function(t,o){e.ok.addEventListener("click",function(){t(e.input.value),e.hidden(),e.promtInputClean()})})},this.confirm=function(t){return new Promise(function(t,e){})},this.setMode=function(t){this.options.mode=t,console.log(),this.setClassMode()},this.inite()}var div=document.querySelector(".modal");div.addEventListener("before-open",function(t){t.preventDefault(),t.detail.setTitle("55555555555555"),setTimeout(function(){t.detail.show()},2e3)});var win=new BeetRootModal({wrapper:div,mode:"alert",title:"My first modal window",text:"Modal window text",isShowNow:!0,promtHandler:function(t){document.body.append(t)},confirmHandler:function(){console.log("sdfadf")}});console.log(win);try{data.tete.sdfg="df"}catch(t){console.log(t)}